---
import "../styles/global.css";
import "@fontsource/ibm-plex-sans";

import Header from "./Header.astro";
import JDNavContainer from "@components/navigation/JDNavContainer.astro";

export interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <meta
      name="description"
      content="Johnny.Decimal is a system to organise projects (or your life, or anything else)"
    />
    <title>{title}║J•D</title>
  </head>
  <body>
    <Header />
    <div class="nav-main-flex">
      <JDNavContainer />
      <div class="divider"></div>
      <main class="main">
        <slot />
      </main>
    </div>
  </body>

  <style>
    /* Mobile-first, remember. So define everything for phone, then use
	   @media queries to re-define for tablet+ or whatever. */
    html {
      background-color: white;
    }

    body {
      background-color: var(--offwhite);
      border: 1px solid var(--jd-highlight-colour);
      /* border-right: 1px solid var(--jd-highlight-colour); */
      color: var(--offblack);
      font-family: "IBM Plex Sans";
      margin-left: auto;
      margin-right: auto;
      max-width: 68rem;
      min-height: 100vh;
      /* padding: 1rem; */
    }

    main {
    }

    /* The flex container that houses navigation and the main content. */
    .nav-main-flex {
      display: flex;
      /* By default (mobile), show the navigation at the bottom. */
      flex-direction: column-reverse;
    }

    /* Don't show the divider on mobile. */
    .divider {
      display: none;
    }

    /* Style for iPad-landscape+. */
    /* https://getbootstrap.com/docs/5.0/layout/breakpoints/#max-width */
    @media screen and (min-width: 991.98px) {
      .nav-main-flex {
        flex-direction: row;
      }
      .jdnavigation {
        flex-grow: 0; /* do not grow   - initial value: 0 */
        flex-shrink: 0; /* do not shrink - initial value: 1 */
        flex-basis: 35ch; /* width/height  - initial value: auto */
        padding-top: 1px; /* Lines it up with the header */
      }
      .divider {
        display: block;
        border-right: 1px dotted var(--jd-bg-colour);
        margin: 1px 15px 0 14px;
      }
    }
  </style>
</html>
